{"mappings":"gfAAA,IAuBQA,EACAC,EACAC,EAzBRC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,mBAoBvBR,EAAaK,EAAKC,KAAKG,SAASC,MAChCT,EAAkBI,EAAKC,KAAKG,SAASE,SACrCT,EAAeU,KAAKC,MACxBC,OAAOZ,aAAaa,QAAQ,2BAI5Bf,EAAWgB,MAAQd,EAAaQ,MAChCT,EAAgBe,MAAQd,EAAaS,SAMzCN,EAAKC,KAAKW,iBAAiB,SAAS,EAAAd,EAAAe,WAxBhB,SAAAC,GAClB,IAAMC,EAAW,CACfV,MAAOS,EAAEE,OAAOC,QAAQ,kBAAkBZ,MAAMM,MAChDL,QAASQ,EAAEE,OAAOC,QAAQ,kBAAkBX,QAAQK,OAGtDF,OAAOZ,aAAaqB,QAAQ,sBAAuBX,KAAKY,UAAUJ,GACpE,GAiB0D,MAC1Df,EAAKC,KAAKW,iBAAiB,UAhCN,SAAAE,GACnBA,EAAEM,iBACFpB,EAAKC,KAAKoB,QACVC,QAAQC,IAAIhB,KAAKC,MAAMC,OAAOZ,aAAaa,QAAQ,yBACnDD,OAAOZ,aAAa2B,WAAW,sBACjC,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst onSubmitForm = e => {\n  e.preventDefault();\n  refs.form.reset();\n  console.log(JSON.parse(window.localStorage.getItem('feedback-form-state')));\n  window.localStorage.removeItem('feedback-form-state');\n};\n\nconst onInputForm = e => {\n  const formData = {\n    email: e.target.closest('.feedback-form').email.value,\n    message: e.target.closest('.feedback-form').message.value,\n  };\n\n  window.localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst addsDataToForm = () => {\n  const emailInput = refs.form.elements.email;\n  const messageTextArea = refs.form.elements.message;\n  const localStorage = JSON.parse(\n    window.localStorage.getItem('feedback-form-state')\n  );\n\n  if (localStorage) {\n    emailInput.value = localStorage.email;\n    messageTextArea.value = localStorage.message;\n  }\n};\n\naddsDataToForm();\n\nrefs.form.addEventListener('input', throttle(onInputForm, 500));\nrefs.form.addEventListener('submit', onSubmitForm);\n"],"names":["emailInput","messageTextArea","localStorage","$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","elements","email","message","JSON","parse","window","getItem","value","addEventListener","throttle","e","formData","target","closest","setItem","stringify","preventDefault","reset","console","log","removeItem"],"version":3,"file":"03-feedback.8fd425de.js.map"}